\begin{frame}[fragile]{mehr Möglichkeiten reguläre Sprachen zu beschreiben}
    Automaten und Mengenschreibweise sind oft nicht das optimale Mittel, eine Sprache zu beschreiben.\\
    Die \alert{regulären Ausdrücke} bieten uns eine Möglichkeit Sprachen schnell und intuitiv zu beschreiben.
    \begin{alertblock}{Funktionsweise}
        \begin{enumerate}
            \item Wörter können mit einem angegebenen Muster abgeglichen werden.
            \item Lässt sich ein Wort durch das Muster beschreiben, ist es in der davon beschriebenen Sprache.
        \end{enumerate}
    \end{alertblock}
\end{frame}

\begin{frame}{Reguläre Ausdrücke verwenden}
    \begin{alertblock}{Induktive Definition der Syntax}
        \begin{itemize}
            \item \alert{$\emptyset$} und \alert{$\emptyWord$} sind reguläre Ausdrücke.
            \item \alert{$a$} ist ein regulärer Ausdruck (für alle $a \in \Sigma$).
            \item Wenn \alert{$\alpha$} und \alert{$\beta$} reguläre Ausdrücke sind,\\dann sind \alert{$\alpha \beta$}, \alert{($\alpha \mid \beta$)} und \alert{$(\alpha)^*$} auch reguläre Ausdrücke.
        \end{itemize}
    \end{alertblock}
    \metroset{block=fill}
    \begin{exampleblock}{Beispiele für die Syntax}
        Reguläre Ausdrücke können zum Beispiel so aussehen...
        \begin{itemize}

            \item $\gamma_1 = (a | b) baa (ab)^*$
            \item $\gamma_2 = ((\emptyWord | baa (b | bb)) aa)^*$
        \end{itemize}
    \end{exampleblock}
\end{frame}

\begin{frame}{Bedeutung von Regulären Ausdrücken}
    \metroset{block=fill}
    \begin{block}{Reguläre Ausdrücke und Sprachen}
        Ein regulärer Ausdruck $\gamma$ beschreibt eine formale Sprache.\\
        Diese formale Sprache schreiben wir als $L(\gamma) \subseteq \Sigma^*$.
    \end{block}
    Wir bauen reguläre Ausdrücke schrittweise auf und erklären dabei die Bedeutung der einzelnen Bausteine:
    \metroset{block=fill}
    \begin{block}{Bedeutung von regulären Ausdrücken}
        \begin{itemize}[<+- | alert@+>]
            \item Sei $\gamma = \emptyset$: Dann ist $L(\gamma) = \emptyset$
            \item Sei $\gamma = \emptyWord$: Dann ist $L(\gamma) = \{\emptyWord\}$
            \item Sei $\gamma = a$ für ein $a \in \Sigma$: Dann ist $L(\gamma) = \{a\}$
        \end{itemize}
    \end{block}
\end{frame}

\begin{frame}{Bedeutung von regulären Ausdrücken}
    \metroset{block=fill}
    \begin{block}{Bedeutung von regulären Ausdrücken}
        Sind $\alpha$ und $\beta$ bereits reguläre Ausdrücke, so gilt:
        \begin{itemize}[<+- | alert@+ | handout:+- | handout:alert@+>]
            \item Sei $\gamma = (\alpha \mid \beta)$: Dann ist $L(\gamma) = L(\alpha) \cup L(\beta)$
            \item Sei $\gamma = (\alpha)^*$: Dann ist $L(\gamma) = L(\alpha)^*$
            \item Sei $\gamma = \alpha \beta$: Dann ist $L(\gamma) = \{uv \mid u \in L(\alpha) \wedge v \in L(\beta)\}$
        \end{itemize}
    \end{block}
    \metroset{block=fill}
    \begin{exampleblock}{
            \only<1|handout:1>{Beispiel: $\gamma = (\alpha \mid \beta)$}
            \only<2|handout:2>{Beispiel: $\gamma = (\alpha)^*$}
            \only<3|handout:3>{Beispiel: $\gamma = \alpha \beta$}
        }
        \only<1|handout:1>{
            \begin{itemize}
                \item $L(a | b) = \{a, b\}$
                \item $L((aab | baba) | a) = \{aab, baba, a\}$
            \end{itemize}
        }
        \only<2|handout:2>{
            \begin{itemize}
                \item $L((a)^*) = \{a\}^* = \{a^n \mid n \in \mathbb{N}\}$
                \item $L((abaa)^*) = \{abaa\}^* = \{w^n \mid n \in \mathbb{N}, w = abaa\}$
                \item $L((a | b)^*) = (L(a | b))^* = \{a,b\}^*$
                \item $L((a)^* | (b)^*) = L((a)^*) \cup L((b)^*) = \{a\}^* \cup \{b\}^*$
            \end{itemize}
        }
        \only<3|handout:3>{
            \begin{itemize}
                \item $L(ababba) = \{ababba\}$
                \item $L((a)^*(b)^*) = \{a^n b^m \mid n, m \in \mathbb{N}\}$
                \item $L((bab \mid (ab)^*) abb) = \{bababb\} \cup \{(ab)^n abb \mid n \in \mathbb{N}\}$
            \end{itemize}
        }
    \end{exampleblock}
\end{frame}

{\setbeamercolor{palette primary}{bg=ExColor}
\begin{frame}{Reguläre Ausdrücke}
    \begin{alertblock}{Aufgaben}
        Finde einen regulären Ausdruck $\gamma_i$ für die folgenden Sprachen.
    \end{alertblock}
    \metroset{block=fill}
    \begin{block}{Normal}
        \begin{itemize}
            \item $L(\gamma_1) = \{a^{2n} \mid n\in\naturals\}$
            \item $L(\gamma_2) = \{a^nb^m \mid n, m\in\naturals\}$
            \item $L(\gamma_3) = \{uv \mid u\in\{a,b\}^\ast,\ v\in\{c,d\}\}$
            \item $L(\gamma_4) = \{w \mid |w| = 3, w\in \{a,b,c\}^*\}$
        \end{itemize}
    \end{block}
    \begin{block}{Etwas Schwerer}
        \begin{itemize}
            \item $L(\gamma_5) = \{a^n \mid n \equiv 1 \mod 3\}$
            \item $L(\gamma_6) = \{uv\mid u\in\{\text{\Rewind, \MoveUp, \Forward, \MoveDown}\}^\ast,\;v\in\{\text{\Stopsign}\}\}$
            \item $L(\gamma_7) = \{w \mid |w|_a = 3, |w|_b = 1, w\in \{a,b,c\}^*\}$
        \end{itemize}
    \end{block}
\end{frame}
}

{\setbeamercolor{palette primary}{bg=ExColor}
\begin{frame}<handout:0>{Lösung}
    Alle Lösungen sind Beispiellösungen - abweichende Lösungen sind möglich.\\
    Klammern, die nicht zur Bedeutung beitragen, dürfen wir für die Kurzschreibweise weglassen.
    \begin{itemize}[<+- | alert@+>]
        \item $\gamma_1 = (aa)^*$
        \item $\gamma_2 = (a)^*(b)^*$
        \item $\gamma_3 = (a|b)^*\ (c|d)$
        \item $\gamma_4 = (a|b|c)(a|b|c)(a|b|c)$
        \item $\gamma_5 = a(aaa)^*$
        \item $\gamma_6 = ($\Rewind | \MoveUp | \Forward | \MoveDown$)^*$\Stopsign
        \item $\gamma_7 = c^*(ac^*ac^*ac^*b\mid ac^*ac^*bc^*a\mid ac^*bc^*ac^*a\mid bc^*ac^*ac^*a)c^*$
    \end{itemize}
\end{frame}
}

{\setbeamercolor{palette primary}{bg=ExColor}
\begin{frame}{Reguläre Ausdrücke}
    \begin{columns}
        \column{0.5\textwidth}
        \begin{alertblock} {Gegeben sei folgender DEA M:}
            \begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
                    semithick]
                \node [initial,state]   (0)              {$q_0$};
                \node [state]           (1) [right of=0] {$q_1$};
                \node [state,accepting] (2) [below of=1] {$q_2$};
                \path   (0) edge               node {b} (1)
                edge               node {a} (2)
                (1) edge               node {b} (2)
                edge [loop above]  node {a} (1)
                (2) edge [loop below]  node {a,b} (2);
            \end{tikzpicture}
        \end{alertblock}
        \column{0.5\textwidth}
        \metroset{block=fill}
        \begin{block}{Welcher reguläre Ausdruck beschreibt $T(M)$?}
            \begin{enumerate}
                \item \alert<2|handout:0>{$(a|b(a)^*b)(a|b)^*$}
                \item $a(ab)^*$
                \item $(a|b(a)^*b)(b)^*$
                \item $(a|b)^*$
            \end{enumerate}
        \end{block}
    \end{columns}
\end{frame}
}

{\setbeamercolor{palette primary}{bg=ExColor}
\begin{frame}{Reguläre Ausdrücke}
    \begin{alertblock}{Aufgaben}
        Welche der folgenden Aussagen sind wahr/falsch? Begründe.
    \end{alertblock}
    \metroset{block=fill}
    \begin{block}{Normal}
        \begin{itemize}
            \item $A_1:\ L\left(\left(a|a\right)^*\right) = L\left(\left(aa\right)^*\right)$
            \item $A_2:\ L\left(\left(a|b\right)^*\right) = L\left(\left(a\right)^*|\left(b\right)^*\right)$
            \item $A_3:\
                      L\left(\left(a\left(a|b\right)^*\right)|\left(b\left(a|b\right)^*\right)\right) = \left\{a,b\right\}^*$
        \end{itemize}
    \end{block}
    \begin{block}{Schwer}
        \begin{itemize}
            \item $A_4:\ L\left(\left(\emptyWord | aaa\right)^*a\left(\left(\left(aaa\right)^* | \left(\emptyWord\right)^*|aaa\right)\right)\right) = \left\{a^{n} \mid n \equiv 1 \pmod 3\right\}$

        \end{itemize}
    \end{block}
    \begin{block}{Sehr Schwer}
        \begin{itemize}
            \item $A_5:\
                      L\left(\left(a|b\right)^*\right) = L\left(\left(\left(a\right)^*b\right)^*\left(a\right)^*\right)$
        \end{itemize}
    \end{block}
\end{frame}
}

{\setbeamercolor{palette primary}{bg=ExColor}
\begin{frame}<handout:0>{Lösung}
    \begin{itemize}[<+- | alert@+>]
        \item $A_1$: falsch
        \item $A_2$: falsch
        \item $A_3$: falsch
        \item $A_4$: wahr
        \item $A_5$: wahr
    \end{itemize}
\end{frame}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% "praktische" Aufgabe die noch eine Lösung braucht
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% {\setbeamercolor{palette primary}{bg=ExColor}
% 	\begin{frame}{Reguläre Ausdrücke}
% 		\begin{alertblock}{Aufgaben}
% 			Schreibe einen regulären Ausdruck, der URLs (ungefähr) erkennen kann.
% 		\end{alertblock}
% 		\metroset{block=fill}
% 		\begin{block}{Bestandteile einer URL (vereinfacht für diese Aufgabe)}
% 			\begin{enumerate}
% 				\item \alert<2>{Protokoll}: http, https oder ftp \emph{(optional)}
% 				\item \alert<3>{Subdomain(s)}: www, oder andere Zeichenkette (Buchstaben, Zahlen, ausgewälte Symbole: -, ., \_, $\sim$) \emph{(optional)}
% 				\item \alert<4>{Domain}: Zeichenkette
% 				\item \alert<5>{top-level Domain(s)}: de, org, com, etc.
% 				\item \alert<6>{Pfad}: Zeichenketten getrennt von / oder einzelnes / \emph{(optional)}
% 				\item \alert<7>{Anfrage}: ? gefolgt von Zeichenkette = Zeichenkette \emph{(optional)}
% 				\item \alert<8>{Fragment}: \# gefolgt von Zeichenkette \emph{(optional)}
% 			\end{enumerate}
% 			\small{\alert<2>{https}://\alert<3>{fius}.\alert<3>{informatik}.\alert<4>{uni-stuttgart}.\alert<5>{de}\alert<6>{/index.php/easter-egg/}\alert<7>{?var=foo}\alert<8>{\#bar}}
% 		\end{block}
% 		\footnotesize{Abkürzung für diese Aufgabe: \emph{[Zeichen]} für erlaubtes Bestandteil einer Zeichenkette}
% 	\end{frame}
% }

% {\setbeamercolor{palette primary}{bg=ExColor}
% 	\begin{frame}<handout:0>{Lösung}
% 		Alle Lösungen sind Beispiellösungen, es sind auch andere möglich.\\
% 		Klammern die nicht zur Bedeutung beitragen, dürfen wir für die Kurzschreibweise weglassen.

% 		TODO

% 	\end{frame}
% }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Das soll nach Regex zu NEA kommen
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% {\setbeamercolor{palette primary}{bg=ExColor}
% \begin{frame}{Regulärer Ausdruck zu Automat}
%     \begin{alertblock}{Aufgaben}
%         Erinnert euch an euren Ausdruck zur Erkennung von URls zurück. Gebt einen äquivalenten Automaten an.
%     \end{alertblock}
%     \metroset{block=fill}
%     \begin{exampleblock}{Erinnerung}
%         Das war der Ausdruck aus der Musterlösung, ihr könnt aber auch euren eigenen benutzen.:

%         TODO

%     \end{exampleblock}
%     \footnotesize{Abkürzung für diese Aufgabe: \emph{[Zeichen]} für erlaubtes Bestandteil einer Zeichenkette}
% \end{frame}
% }

% {\setbeamercolor{palette primary}{bg=ExColor}
% \begin{frame}{Lösung}
%     Alle Lösungen sind Beispiellösungen, es sind auch andere möglich.

%     TODO

% \end{frame}
% }